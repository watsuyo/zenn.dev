---
title: "Vue3.0で知っておきたいBreaking Changes"
emoji: "🚀"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [Vue.js,JavaScript,TypeScript,Zenn]
published: true
---

# Vue3移行におけるBreaking Changes
Vue3の[公式ドキュメント](https://v3.vuejs.org/guide/migration/introduction.html#notable-new-features)にある通り、Vue3移行の専用ビルドも作成中らしく、移行ビルドを待つことが強く推奨されている。

上記の内容について、2020/11/18(水)の19:30~ オンラインで開催する[フロントスペシャリスト達が語る最新Vue/React動向 iCARE Dev Meetup #15](https://icare.connpass.com/event/192817/)に登壇させていただきます。

本記事では、登壇する内容の全文をzennにて公開します。
`Comming soon...`の部分は、追って公開していきますのでお楽しみに🚀

[Twitter](https://twitter.com/watsuyo_2)もやってます。

## Global API
### Vue2の書き方
Vue2において、mixinsやpluginsなどでグローバルコンポーネントや、カスタムディレクティブを定義する場合、基本的にはVueインスタンスを使用していました。

```ts
import Vue from 'vue'
import App from './App.vue'

Vue.config()
Vue.config.productionTip()
Vue.config.productionTip()
Vue.component()
Vue.directive()
Vue.mixin()
Vue.use()

new Vue({
  render: h => h(App)
}).$mount('#app')
```

### Vue3の書き方

createAppというグローバルな`app`インスタンスを返すAPIに変更されました。

```ts
  import { createApp } from 'vue'
  const app = createApp({})

  app.config()
  app.config.productionTip()
  app.config.productionTip()
  app.component()
  app.directive()
  app.mixin()
  app.use()

  app.mount(App, '#app')
```

mountはシンプルになりました。

以下がVue2からVue3への移行表です。

<table>
  <thead>
    <tr>
      <th>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue2(new Vue)</font>
        </font>
      </th>
      <th>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue3</font>
        </font>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.config</font>
        </font>
      </td>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">app.config</font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.config.productionTip</font>
        </font>
      </td>
      <td><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">削除</font></font></em>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;"></font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.config.ignoredElements</font>
        </font>
      </td>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">app.config.isCustomElement</font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.component</font>
        </font>
      </td>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">app.component</font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">View.directive</font>
        </font>
      </td>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">app.directive</font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.mixin</font>
        </font>
      </td>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">app.mixin</font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.use</font>
        </font>
      </td>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">app.use</font>
        </font>
      </td>
    </tr>
  </tbody>
</table>

参考
https://v3.vuejs.org/guide/migration/global-api.html#a-new-global-api-createapp


また、以下の`Vue.nextTick()`のようなグローバルAPIは、
```ts
import { nextTick } from 'vue'

nextTick(() => {})
```
のような形でimportしてから使用するようになりました。

これはバンドルサイズ削減が目的で、名前付きimportのおかげで必要な分だけ、module単位で使用でき、バンドルサイズが削減できます。

<table>
  <thead>
    <tr>
      <th>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue2(new Vue)</font>
        </font>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.nextTick</font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.observable</font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.compile</font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.nextTick</font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.set</font>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <font style="vertical-align: inherit;">
          <font style="vertical-align: inherit;">Vue.delete</font>
        </font>
      </td>
    </tr>
  </tbody>
</table>


## Template Directive
Comming soon...🚀

## Components
Comming soon...🚀

## Render Function
Comming soon...🚀

## Custom Elements
Comming soon...🚀

## Other Minor Changes
Comming soon...🚀

## Removed APIs
Comming soon...🚀
